(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(18).concat([function(e,t,a){e.exports=a.p+"static/media/staticmap.69e44fc2.png"},function(e,t,a){e.exports=a.p+"static/media/img1.55052507.jpg"},function(e,t,a){e.exports=a.p+"static/media/img2.76356885.jpg"},function(e,t,a){e.exports=a.p+"static/media/img3.f7a4a5fa.jpg"},function(e,t,a){e.exports=a.p+"static/media/img4.50039f76.jpg"},function(e,t,a){e.exports=a.p+"static/media/img5.17a814cb.jpg"},function(e,t,a){e.exports=a.p+"static/media/img6.9329071f.jpg"},function(e,t,a){e.exports=a.p+"static/media/img7.7849ee4d.jpg"},function(e,t,a){e.exports=a.p+"static/media/img8.4f75e0e3.jpg"},function(e,t,a){e.exports=a.p+"static/media/img9.ff6fc38f.jpg"},function(e,t,a){e.exports=a.p+"static/media/img10.bd147104.jpg"},function(e,t,a){e.exports=a.p+"static/media/img11.9ae1b2ae.jpg"},function(e,t,a){e.exports=a.p+"static/media/img12.e09ffec5.jpg"},function(e,t,a){e.exports=a.p+"static/media/img13.056d0efe.jpg"},function(e,t,a){e.exports=a.p+"static/media/img14.f60dab80.jpg"},function(e,t,a){e.exports=a.p+"static/media/img15.0aab35c8.jpg"},function(e,t,a){e.exports=a.p+"static/media/img16.b3b10723.jpg"},function(e,t,a){e.exports=a.p+"static/media/img17.c3e310a0.jpg"},function(e,t,a){e.exports=a.p+"static/media/img18.bf1734c9.jpg"},function(e,t,a){e.exports=a.p+"static/media/img19.f48ca89d.jpg"},function(e,t,a){e.exports=a.p+"static/media/img20.2f7f4d49.jpg"},function(e,t,a){e.exports=a(70)},,,,,function(e,t,a){},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),o=a(16),r=a.n(o),l=(a(44),a(3)),s=a(4),c=a(6),u=a(5),m=a(7),d=a(8),g=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"trail-item"},n.a.createElement("div",{className:"trail-img"},n.a.createElement("img",{src:this.props.trail.imgSmall,alt:this.props.trail.name})),n.a.createElement("div",{className:"trail-details"},n.a.createElement("h3",null,this.props.trail.name),n.a.createElement("p",null,"Length: ",this.props.trail.length," miles",n.a.createElement("br",null),"Difficulty: ",this.props.trail.difficulty),n.a.createElement("p",null,this.props.trail.summary),n.a.createElement(d.Online,null,n.a.createElement("div",null,n.a.createElement("a",{href:this.props.trail.url},"Learn more on HikingProject.com")))))}}]),t}(n.a.Component),h=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onChangeMaxLength;return n.a.createElement("div",{id:"content"},n.a.createElement("h3",null,"Hiking Trails Map"),n.a.createElement("p",null,"Hiking trail information is sourced from ",n.a.createElement("a",{href:"http://hikingproject.com",title:"HikingProject.com"},"HikingProject.com"),"."),n.a.createElement("p",null,"Showing ",this.props.trails.length," results for trails near Carrboro, NC."),n.a.createElement("select",{value:this.props.maxLength?this.props.maxLength:"20",onChange:function(e){t(e)}},n.a.createElement("option",{value:"selectMaxLength"},"Select max length..."),n.a.createElement("option",{value:"20"},"All Results"),n.a.createElement("option",{value:"3"},"Max 3 miles"),n.a.createElement("option",{value:"5"},"Max 5 miles"),n.a.createElement("option",{value:"7"},"Max 7 miles")),n.a.createElement("ol",{id:"trail-list-dynamic"},this.props.trails.map(function(t){return n.a.createElement("li",{key:t.id,onClick:function(t){e.props.onListClick(t)}},n.a.createElement(g,{trail:t}))})))}}]),t}(n.a.Component),p=(a(49),a(17)),f=a.n(p),k=a(18),y=a.n(k),b=a(19),w=a.n(b),v=a(20),E=a.n(v),x=a(21),S=a.n(x),L=a(22),j=a.n(L),T=a(23),C=a.n(T),M=a(24),B=a.n(M),O=a(25),A=a.n(O),P=a(26),N=a.n(P),R=a(27),H=a.n(R),W=a(28),D=a.n(W),V=a(29),I=a.n(V),J=a(30),U=a.n(J),q=a(31),F=a.n(q),K=a(32),G=a.n(K),z=a(33),Z=a.n(z),Q=a(34),Y=a.n(Q),$=a(35),X=a.n($),_=a(36),ee=a.n(_),te=a(37),ae=a.n(te),ie=a(38),ne=a.n(ie);var oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={isSidebarOpen:!1,maxLength:20,markers:[],currentTrails:[],origTrails:[{id:7010880,name:"Battle Branch / Bolin Creek Loop",summary:"Wilderness in the heart of Chapel Hill adjacent to UNC Chapel Hill Campus, with plenty of hills.",difficulty:"greenBlue",imgSmall:w.a,length:3.7,longitude:-79.0323,latitude:35.9259},{id:7011748,name:"Crow Branch Overlook Loop Trail",summary:"Great forested singletrack trail that's very easily accessible to Chapel Hill and Carrboro.",difficulty:"greenBlue",imgSmall:E.a,length:4,longitude:-79.0681,latitude:35.9372},{id:7022521,name:"Johnston Mill Loop",summary:"This pleasant loop is a scenic alternative for those wishing to avoid more crowded parks.",difficulty:"greenBlue",imgSmall:S.a,length:2.9,longitude:-79.0541,latitude:35.9954},{id:7022400,name:"Duke Korstian Loop",summary:"A good all-weather loop.",difficulty:"greenBlue",imgSmall:j.a,length:4.2,longitude:-79.0226,latitude:35.978},{id:7024716,name:"Korstian Foot Trail Loop",summary:"This loop combines several of Korstian's foot trails.",difficulty:"blue",imgSmall:C.a,length:6.9,longitude:-79.0225,latitude:35.9781},{id:7042865,name:"Brumley Forest Nature Preserve Loop",summary:"An extended loop trail within Brumley Forest Nature Preserve.",difficulty:"greenBlue",imgSmall:B.a,length:5.8,longitude:-79.0593,latitude:36.0312},{id:7004485,name:"Al Buehler and Sally Meyerhoff Trails",summary:"A very well-maintained trail circumscribing the Washington Duke golf course.",difficulty:"blue",imgSmall:A.a,length:3.7,longitude:-78.9523,latitude:35.9971},{id:7037167,name:"Eno Outer Loop",summary:"This longer loop visits the three highest points in the park",difficulty:"blue",imgSmall:N.a,length:7.4,longitude:-79.0062,latitude:36.0739},{id:7022705,name:"New Hope Overlook - Red-Blue Trails",summary:"This trail passes through woodlands to reach the Jordan Lake shoreline and loops back through woodlands.",difficulty:"greenBlue",imgSmall:H.a,length:5.1,longitude:-79.048,latitude:35.6825},{id:7015858,name:"MST: West Point to Pump Station",summary:"Take the Mountains-to-Sea Trail along the Eno River from West Point to the Pump Station and back.",difficulty:"greenBlue",imgSmall:D.a,length:9.3,longitude:-78.9081,latitude:36.069},{id:7043491,name:"Poe's Ridge Trail",summary:"This is a 4-mile multi-use loop along Jordan Lake between the Visitor Assistance Center and Poe's Ridge boat ramp.",difficulty:"blue",imgSmall:I.a,length:3.7,longitude:-79.0704,latitude:35.6548},{id:7022294,name:"Lake Trail",summary:"The Lake Trail is a great urban escape and one of the best in the Triangle area!",difficulty:"blue",imgSmall:U.a,length:6.4,longitude:-78.7954,latitude:35.8421},{id:7043428,name:"Jimmy Rogers Road Out-and-Back",summary:"A section of the MST along Falls Lake. The boardwalk by Little Lick Creek Bridge is the main highlight.",difficulty:"greenBlue",imgSmall:F.a,length:7.6,longitude:-78.7777,latitude:36.0132},{id:7024662,name:"Bond Park Lake Loop",summary:"An easy, short loop hike around the lake on singletrack, mulched, and paved trail.",difficulty:"blue",imgSmall:G.a,length:3,longitude:-78.8293,latitude:35.7846},{id:7010450,name:"Company Mill Trail",summary:"A great get away in the heart of the triangle with some scenic hiking down on Crabtree Creek.",difficulty:"blue",imgSmall:Z.a,length:5.1,longitude:-78.7599,latitude:35.8365},{id:7011687,name:"Turkey Creek/Cedar Ridge Loop",summary:"A good rolling loop trail through established NC forest with water features.",difficulty:"greenBlue",imgSmall:Y.a,length:5.4,longitude:-78.7251,latitude:35.843},{id:7020965,name:"Horton Grove Nature Preserve Loop",summary:"This loop combines the varied terrain of several trails to make a great longer hike.",difficulty:"greenBlue",imgSmall:X.a,length:6,longitude:-78.8386,latitude:36.1278},{id:7043936,name:"Rolling View Marina View Out-and-Back",summary:"A pleasant section of the MST following the lake early on. The highlight is seeing Rolling View Marina coming into view.",difficulty:"greenBlue",imgSmall:ee.a,length:8.2,longitude:-78.6891,latitude:36.0124},{id:7044858,name:"Cedarock Park Tour",summary:"This hike combines the best that Cedarock Park has to offer.",difficulty:"blue",imgSmall:ae.a,length:7.1,longitude:-79.4465,latitude:35.9896},{id:7013179,name:"White Pines Loop",summary:"A hike with everything: dramatic views from atop bluffs, scenic rivers, and unique ecosystems.",difficulty:"greenBlue",imgSmall:ne.a,length:2.4,longitude:-79.1607,latitude:35.6145}]},a.getTrails=function(){f.a.get("https://www.hikingproject.com/data/get-trails?"+new URLSearchParams({key:"7127990-5024e929ecbd22e7834e19ea1890f393",lat:"35.909967",lon:"-79.075229",maxDistance:100,maxResults:20,sort:"distance"})).then(function(e){a.setState({currentTrails:e.data.trails},a.renderMap())}).catch(function(e){console.log("Error fetching trails."+e),a.setState({currentTrails:a.state.origTrails})})},a.renderMap=function(){var e,t,i;e="https://maps.googleapis.com/maps/api/js?key=AIzaSyDAKvy5lm0G0jkaL6-OwZRqZtv9d4Cgqqw&callback=initMap",t=window.document.getElementsByTagName("script")[0],(i=window.document.createElement("script")).src=e,i.async=!0,i.defer=!0,t.parentNode.insertBefore(i,t),window.initMap=a.initMap},a.initMap=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:35.909967,lng:-79.075229},zoom:10}),t=new window.google.maps.LatLngBounds,i=a.state.currentTrails.map(function(a){var i=new window.google.maps.InfoWindow({maxWidth:300}),n='<div id="popup"><img src="'+a.imgSmall+'"/><h3 id="trailName">'+"".concat(a.name)+'</h3><p id="trailInfo">Length: '+"".concat(a.length)+" miles<br/> Difficulty: "+"".concat(a.difficulty)+'</p><p id="trailSummary">'+"".concat(a.summary)+'</p> <a href="'+"".concat(a.url)+'">Learn more on HikingProject.com</a></div>',o=new window.google.maps.Marker({position:{lat:a.latitude,lng:a.longitude},map:e,key:a.id,title:a.name,animation:window.google.maps.Animation.DROP});return t.extend(o.position),o.addListener("click",function(){i.setContent(n),e.panTo(o.getPosition()),i.open(e,o),o.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(function(){return o.setAnimation(null)},2e3)}),a});a.setState({markers:i}),console.log("Current markers:"),console.log(a.state.markers)},a.listClick=function(e){a.state.markers.forEach(function(t){e.key===t.id&&window.google.maps.event.trigger(t,"click")}),a.handleMenuClick()},a.changeMaxLength=function(e){var t=e.target.value,i=parseInt(t);a.setState({maxLength:i});var n=a.state.currentTrails.filter(function(e){return e.length<=a.state.maxLength});a.setState({currentTrails:n}),a.updateMarkers()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getTrails()}},{key:"handleMenuClick",value:function(){this.setState({isSidebarOpen:!this.state.isSidebarOpen});var e=document.querySelector("#sidebar");"true"===e.getAttribute("aria-hidden")?e.setAttribute("aria-hidden","false"):e.setAttribute("aria-hidden","true"),"false"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")}},{key:"updateMarkers",value:function(){var e=this,t=this.state.markers.filter(function(t){return t.length>e.state.maxLength});console.log("Markers to hide:"),console.log(t),t.forEach(function(e){return e.setVisible(!1)}),console.log("Markers set to invisible:"),console.log(t);var a=this.compareArrays(this.state.markers,t);this.setState({markers:a}),console.log("The markers were updated"),console.log(this.state.markers)}},{key:"compareArrays",value:function(e,t){var a=[];return e.forEach(function(e){return t.forEach(function(t){e!==t&&a.push(e)})}),a}},{key:"render",value:function(){var e=this;return n.a.createElement("main",null,n.a.createElement(d.Online,null,n.a.createElement("div",{id:"map","aria-label":"map"})),n.a.createElement(d.Offline,null,n.a.createElement("div",{id:"offline"},n.a.createElement("p",{id:"offline-message"},"You are offline."),n.a.createElement("img",{src:y.a,alt:"Static Map of Hiking Trails"}))),n.a.createElement("button",{id:"sidebarButton",autoFocus:"True",type:"button",onClick:this.handleMenuClick.bind(this)},"List View"),n.a.createElement("div",{id:"sidebar",style:{width:this.state.isSidebarOpen?"100%":0},"aria-expanded":"false","aria-hidden":"true"},n.a.createElement("button",{id:"backButton",type:"button",onClick:this.handleMenuClick.bind(this)},"Map View"),n.a.createElement(h,{trails:this.state.currentTrails.filter(function(t){return t.length<=e.state.maxLength}),markers:this.state.markers,maxLength:this.state.maxLength,onChangeMaxLength:this.changeMaxLength.bind(this),onListClick:this.listClick.bind(this)})))}}]),t}(i.Component),re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(n.a.createElement(oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-map",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/neighborhood-map","/service-worker.js");re?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):le(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):le(t,e)})}}()}]),[[39,2,1]]]);
//# sourceMappingURL=main.00533306.chunk.js.map